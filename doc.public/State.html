<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<link rel="stylesheet" href="style.css" type="text/css">
<meta content="text/html; charset=iso-8859-1" http-equiv="Content-Type">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="Start" href="index.html">
<link rel="previous" href="Command.html">
<link rel="next" href="Main.html">
<link rel="Up" href="index.html">
<link title="Index of types" rel=Appendix href="index_types.html">
<link title="Index of exceptions" rel=Appendix href="index_exceptions.html">
<link title="Index of values" rel=Appendix href="index_values.html">
<link title="Index of modules" rel=Appendix href="index_modules.html">
<link title="Adventure" rel="Chapter" href="Adventure.html">
<link title="Command" rel="Chapter" href="Command.html">
<link title="State" rel="Chapter" href="State.html">
<link title="Main" rel="Chapter" href="Main.html">
<link title="Author" rel="Chapter" href="Author.html"><title>State</title>
</head>
<body>
<div class="navbar"><a class="pre" href="Command.html" title="Command">Previous</a>
&nbsp;<a class="up" href="index.html" title="Index">Up</a>
&nbsp;<a class="post" href="Main.html" title="Main">Next</a>
</div>
<h1>Module <a href="type_State.html">State</a></h1>

<pre><span id="MODULEState"><span class="keyword">module</span> State</span>: <code class="code">sig</code> <a href="State.html">..</a> <code class="code">end</code></pre><div class="info module top">
<div class="info-desc">
<p>Representation of dynamic adventure state.</p>

<p>This module represents the state of an adventure as it is being played,
   including the adventurer's current room, the rooms that have been visited,
   and functions that cause the state to change.</p>
</div>
</div>
<hr width="100%">

<pre><span id="TYPEt"><span class="keyword">type</span> <code class="type"></code>t</span> </pre>
<div class="info ">
<div class="info-desc">
<p>The abstract type of values representing the game state.</p>
</div>
</div>


<pre><span id="VALinit_state"><span class="keyword">val</span> init_state</span> : <code class="type"><a href="Adventure.html#TYPEt">Adventure.t</a> -> <a href="State.html#TYPEt">t</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">init_state a</code> is the initial state of the game when playing adventure <code class="code">a</code>. 
    In that state the adventurer is currently located in the starting room,
    and they have visited only that room.</p>
</div>
</div>

<pre><span id="VALcurrent_room_id"><span class="keyword">val</span> current_room_id</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> string</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">current_room_id st</code> is the identifier of the room in which the adventurer
    currently is located in state <code class="code">st</code>.</p>
</div>
</div>

<pre><span id="VALvisited"><span class="keyword">val</span> visited</span> : <code class="type"><a href="State.html#TYPEt">t</a> -> string list</code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">visited st</code> is a set-like list of the room identifiers the adventurer has 
    visited in state <code class="code">st</code>. The adventurer has visited a room <code class="code">rm</code> if their
    current room location is or has ever been <code class="code">rm</code>.</p>
</div>
</div>

<pre><code><span id="TYPEresult"><span class="keyword">type</span> <code class="type"></code>result</span> = </code></pre><table class="typetable">
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Legal"><span class="constructor">Legal</span></span> <span class="keyword">of</span> <code class="type"><a href="State.html#TYPEt">t</a></code></code></td>

</tr>
<tr>
<td align="left" valign="top" >
<code><span class="keyword">|</span></code></td>
<td align="left" valign="top" >
<code><span id="TYPEELTresult.Illegal"><span class="constructor">Illegal</span></span></code></td>

</tr></table>

<div class="info ">
<div class="info-desc">
<p>The type representing the result of an attempted movement.</p>
</div>
</div>


<pre><span id="VALgo"><span class="keyword">val</span> go</span> : <code class="type"><a href="Adventure.html#TYPEexit_name">Adventure.exit_name</a> -> <a href="Adventure.html#TYPEt">Adventure.t</a> -> <a href="State.html#TYPEt">t</a> -> <a href="State.html#TYPEresult">result</a></code></pre><div class="info ">
<div class="info-desc">
<p><code class="code">go exit adv st</code> is <code class="code">r</code> if attempting to go through exit <code class="code">exit</code> in state 
    <code class="code">st</code> and adventure <code class="code">adv</code> results in <code class="code">r</code>.  If <code class="code">exit</code> is an exit from the 
    adventurer's current room, then <code class="code">r</code> is <code class="code">Legal st'</code>, where in <code class="code">st'</code> the 
    adventurer is now located in the room to which <code class="code">exit</code> leads.  Otherwise, 
    the result is <code class="code">Illegal</code>. 
    Effects: none.  <code class="code">go</code> is not permitted to do any printing.</p>
</div>
</div>
</body></html>
